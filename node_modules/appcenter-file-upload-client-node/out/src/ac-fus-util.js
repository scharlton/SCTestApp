"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const node_fetch_1 = require("node-fetch");
const ProxyAgent = require("proxy-agent");
function resolveProxySettings(options = {}) {
    const instanceOptions = Object.assign({}, options);
    const proxyServer = process.env.http_proxy ||
        process.env.HTTP_PROXY ||
        process.env.https_proxy ||
        process.env.HTTPS_PROXY ||
        null;
    if (!options.agent && proxyServer) {
        instanceOptions.agent = ProxyAgent(proxyServer);
    }
    return instanceOptions;
}
exports.resolveProxySettings = resolveProxySettings;
function fetchWithOptions(url, options = {}) {
    return node_fetch_1.default(url, resolveProxySettings(options));
}
exports.fetchWithOptions = fetchWithOptions;
//# sourceMappingURL=ac-fus-util.js.map