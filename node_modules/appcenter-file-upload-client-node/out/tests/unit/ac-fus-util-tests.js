"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ac_fus_util_1 = require("../../src/ac-fus-util");
const assert = require("assert");
const ProxyAgent = require("proxy-agent");
const mocha_1 = require("mocha");
describe('fetchWithOptions', () => {
    context("When proxy is not set", () => {
        beforeEach(() => {
            process.env.https_proxy = "";
        });
        it("Agent should be null", () => {
            const options = ac_fus_util_1.resolveProxySettings();
            assert(!options.agent);
        });
    });
    context("When proxy is set", () => {
        beforeEach(() => {
            process.env.https_proxy = "http://xx.xx.xx.xx:port";
        });
        it("Agent should not be null", () => {
            const options = ac_fus_util_1.resolveProxySettings();
            assert(options.agent);
            assert(options.agent instanceof ProxyAgent);
        });
    });
    mocha_1.after(() => {
        process.env.https_proxy = "";
    });
});
//# sourceMappingURL=ac-fus-util-tests.js.map